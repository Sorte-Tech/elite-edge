<template>
  <div>
    <div class="home-page v-container2" ref="home">
      <section class="panel">
        <b-container fluid>
          <b-row class="top-base">
            <b-col cols="12" lg="7">
              <div class="caption">
                <h1>
                  We are brand digital <br />
                  and marketing communication agency, we turn
                  <br />
                  <span>The spotlight</span> on brands
                </h1>
                <p>
                  We are culture shapers, storytellers and collaborators, your
                  partner to reaching a perfect state of happiness.
                </p>

                <a href="" class="d-inline-block mt-4 download"
                  >Download Our Brochure</a
                ><br />
                <router-link to="/contact" class="link d-inline-block mt-5"
                  >let's talk</router-link
                >
              </div>
            </b-col>
            <b-col cols="12" lg="5" class="">
              <div class="bg-img">
                <div class="bg-img-wrapper">
                  <b-img
                    src="@/assets/images/png/elite-edge-bg-img1.png"
                    class=""
                  ></b-img>
                  <b-img
                    src="@/assets/images/png/elite-edge-bg-img3.png"
                    class=""
                  ></b-img>
                  <b-img
                    src="@/assets/images/png/elite-edge-bg-img2.png"
                    class=""
                  ></b-img>
                </div>
              </div>
            </b-col>
          </b-row>
        </b-container>
      </section>
      <section class="panel">
        <div class="about w-100">
          <h1>Who we are</h1>
          <div class="d-flex">
            <p class="mr-5">
              We are a media and advertising company that constantly pioneers
              the cause of innovative communication by delivering strategic and
              engagement focused solutions to our clients, exploring existing
              and emerging media while leveraging technology to deliver
              effective communication.
            </p>
            <p>
              We are a full service marketing communications agency providing
              solutions across a broad range of marketing communication services
              to brands and businesses. We are a brand, digital and marketing
              communication agency that loves to turn “The spotlight” on brands.
            </p>
          </div>
          <div class="d-flex justify-content-between align-items-end">
            <h3>Your plug to better marketing and advertising solutions.</h3>
            <b-img src="@/assets/images/svg/c9-circle.svg"></b-img>
          </div>
        </div>
      </section>
      <section class="panel">
        <div class="strength w-100">
          <h1>Our Strength</h1>

          <div
            class="d-flex justify-content-between align-items-center content"
          >
            <p align="right" class="vision">
              Our mix of insight, creativity, and technical innovation helps us
              deliver solutions that meet the business needs of our clients
            </p>
            <div class="circle">
              <b-img src="@/assets/images/svg/elite-edge-C9.svg"></b-img>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 1314.49 1314.49"
              >
                <defs>
                  <style>
                    .cls-1 {
                      font-size: 116px;
                      font-family: Wulkandisplay-Medium, Wulkan display;
                      font-weight: 500;
                    }
                  </style>
                </defs>
                <g id="Layer_2" data-name="Layer 2">
                  <g id="Layer_1-2" data-name="Layer 1">
                    <g class="code">
                      <text
                        class="cls-1"
                        transform="translate(709.88 101.07) rotate(8.97)"
                      >
                        C
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(778.49 111.54) rotate(16.53)"
                      >
                        O
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(850.28 132.6) rotate(24.25)"
                      >
                        N
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(918.38 163.29) rotate(31.55)"
                      >
                        C
                      </text>
                      <text
                        class="cls-1"
                        transform="matrix(0.78, 0.62, -0.62, 0.78, 977.65, 199.64)"
                      >
                        E
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(1030.94 243.11) rotate(43.98)"
                      >
                        I
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(1057.91 267.76) rotate(49.67)"
                      >
                        V
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(1106.01 324.59) rotate(56.96)"
                      >
                        E
                      </text>
                      <text
                        class="cls-1"
                        transform="matrix(0.47, 0.88, -0.88, 0.47, 1142.84, 382.79)"
                      ></text>
                      <text
                        class="cls-1"
                        transform="translate(1156.6 408.26) rotate(65.54)"
                      >
                        •
                      </text>
                    </g>
                    <g class="code">
                      <text
                        class="cls-1"
                        transform="matrix(0.36, 0.93, -0.93, 0.36, 1173.17, 445.1)"
                      ></text>
                      <text
                        class="cls-1"
                        transform="translate(1184.2 471.35) rotate(74.23)"
                      >
                        C
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(1203.19 538.19) rotate(81.46)"
                      >
                        R
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(1213.68 608.1) rotate(88.55)"
                      >
                        E
                      </text>
                      <text
                        class="cls-1"
                        transform="matrix(-0.1, 1, -1, -0.1, 1215.64, 676.33)"
                      >
                        A
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(1209.6 740.94) rotate(102.12)"
                      >
                        T
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(1195.37 807.58) rotate(109.17)"
                      >
                        E
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(1171.93 872.37) rotate(114.21)"
                      ></text>
                      <text
                        class="cls-1"
                        transform="translate(1160.24 898.83) rotate(117.78)"
                      >
                        •
                      </text>
                    </g>
                    <g class="code">
                      <text
                        class="cls-1"
                        transform="matrix(-0.52, 0.85, -0.85, -0.52, 1141.25, 934.48)"
                      ></text>
                      <text
                        class="cls-1"
                        transform="matrix(-0.59, 0.8, -0.8, -0.59, 1127.23, 959.3)"
                      >
                        C
                      </text>
                      <text
                        class="cls-1"
                        transform="matrix(-0.69, 0.72, -0.72, -0.69, 1086.31, 1015.38)"
                      >
                        O
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(1034.6 1069.48) rotate(141.51)"
                      >
                        N
                      </text>
                      <text
                        class="cls-1"
                        transform="matrix(-0.86, 0.51, -0.51, -0.86, 974.52, 1117.39)"
                      >
                        N
                      </text>
                      <text
                        class="cls-1"
                        transform="matrix(-0.92, 0.39, -0.39, -0.92, 908.22, 1156.41)"
                      >
                        E
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(845.5 1183.36) rotate(163.97)"
                      >
                        C
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(778.68 1202.59) rotate(171.08)"
                      >
                        T
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(710.62 1212.41) rotate(176.06)"
                      ></text>
                      <text
                        class="cls-1"
                        transform="translate(681.63 1214.4) rotate(179.07)"
                      >
                        •
                      </text>
                    </g>
                    <g id="conceive">
                      <text
                        class="cls-1"
                        transform="translate(641.31 1214.71) rotate(-176.92)"
                      ></text>
                      <text
                        class="cls-1"
                        transform="translate(612.84 1214.13) rotate(-171.88)"
                      >
                        C
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(544.06 1204.67) rotate(-164.32)"
                      >
                        O
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(471.98 1184.69) rotate(-156.6)"
                      >
                        N
                      </text>
                      <text
                        class="cls-1"
                        transform="matrix(-0.86, -0.51, 0.51, -0.86, 403.45, 1155.02)"
                      >
                        C
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(343.61 1119.53) rotate(-142.24)"
                      >
                        E
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(289.7 1076.85) rotate(-136.86)"
                      >
                        I
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(262.38 1052.61) rotate(-131.17)"
                      >
                        V
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(213.45 996.49) rotate(-123.88)"
                      >
                        E
                      </text>
                      <text
                        class="cls-1"
                        transform="matrix(-0.48, -0.88, 0.88, -0.48, 175.76, 938.82)"
                      ></text>
                      <text
                        class="cls-1"
                        transform="translate(161.62 913.57) rotate(-115.31)"
                      >
                        •
                      </text>
                    </g>
                    <g id="create">
                      <text
                        class="cls-1"
                        transform="translate(144.52 876.99) rotate(-111.73)"
                      ></text>
                      <text
                        class="cls-1"
                        transform="translate(133.1 850.9) rotate(-106.62)"
                      >
                        C
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(113.1 784.34) rotate(-99.39)"
                      >
                        R
                      </text>
                      <text
                        class="cls-1"
                        transform="matrix(-0.04, -1, 1, -0.04, 101.58, 714.6)"
                      >
                        E
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(98.63 646.42) rotate(-85.16)"
                      >
                        A
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(103.73 581.72) rotate(-78.73)"
                      >
                        T
                      </text>
                      <text
                        class="cls-1"
                        transform="matrix(0.31, -0.95, 0.95, 0.31, 116.96, 514.87)"
                      >
                        E
                      </text>
                      <text
                        class="cls-1"
                        transform="matrix(0.4, -0.92, 0.92, 0.4, 139.43, 449.75)"
                      ></text>
                      <text
                        class="cls-1"
                        transform="matrix(0.45, -0.89, 0.89, 0.45, 150.74, 423.11)"
                      >
                        •
                      </text>
                    </g>
                    <g id="connect">
                      <text
                        class="cls-1"
                        transform="translate(169.2 387.17) rotate(-59.5)"
                      ></text>
                      <text
                        class="cls-1"
                        transform="translate(182.83 362.17) rotate(-54.44)"
                      >
                        C
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(222.94 305.48) rotate(-46.95)"
                      >
                        O
                      </text>
                      <text
                        class="cls-1"
                        transform="matrix(0.77, -0.63, 0.63, 0.77, 273.84, 250.64)"
                      >
                        N
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(333.22 201.84) rotate(-31.47)"
                      >
                        N
                      </text>
                      <text
                        class="cls-1"
                        transform="matrix(0.91, -0.41, 0.41, 0.91, 398.95, 161.84)"
                      >
                        E
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(461.24 133.97) rotate(-16.88)"
                      >
                        C
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(527.76 113.75) rotate(-9.77)"
                      >
                        T
                      </text>
                      <text
                        class="cls-1"
                        transform="translate(595.7 102.91) rotate(-4.78)"
                      ></text>
                      <text
                        class="cls-1"
                        transform="matrix(1, -0.02, 0.02, 1, 624.55, 100.32)"
                      >
                        •
                      </text>
                    </g>
                  </g>
                </g>
              </svg>
            </div>

            <p align="left" class="values">
              {{ selectedMission }}
            </p>
          </div>
        </div>
      </section>
      <div class="indicator">
        <progress max="100" value="4"></progress>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      gsapTimeline: '',
      imageSlide: '',
      logoControl: '',
      circleControl: '',
      missions: [
        'Our creative unit is a fertile ground where imagination & thoughts are nurtured and developed into memorable ideas',
        'Our creative ideas take root in people’s hearts and spread far and wide.',
        'Our work must move people and drive positive change.',
      ],
      selectedMission: '',
    }
  },
  mounted() {
    if (window.outerWidth > 768) {
      this.$gsap.to('.second-logo', {
        opacity: 0,
      })
      this.pageInteraction()
    }
  },
  methods: {
    pageInteraction() {
      console.log(this.$refs.home.offsetWidth)
      const sections = this.$gsap.utils.toArray('.panel')
      this.gsapTimeline = this.$gsap.timeline({
        scrollTrigger: {
          id: 'v-container',
          trigger: '.v-container2',
          start: 'top top',
          pin: true,
          scrub: 1,
          paused: true,
          end: () => '+=' + this.$refs.home.offsetWidth,
        },
      })

      this.gsapTimeline.to(sections, {
        duration: 2,
        xPercent: -100 * (sections.length - 1),
        ease: 'none',
      })

      this.imageSlide = this.$gsap.timeline({
        scrollTrigger: {
          trigger: '.captions',
          scrub: true,
          start: '30% 100%',
          end: '130% 100%',
          // markers: true,
          // paused: true,
          onEnterBack: () => {
            this.reverseAnimateImg()
          },
          onLeave: (self) => {
            this.animateImg()
          },
        },
      })
      // circle animation
      this.circleControl = this.$gsap.timeline({
        scrollTrigger: {
          trigger: '.strength',
          start: 'bottom bottom',
          end: '650% 50%',
          ease: 'none',
          // markers: true,
          onLeave: (self) => {
            this.animateSVG()
          },
          onEnterBack: () => {
            this.reverseanimateSVG()
          },
        },
      })
      this.circleControl = this.$gsap.timeline({
        scrollTrigger: {
          trigger: '.strength',
          start: 'bottom bottom',
          end: '650% 30%',
          ease: 'none',
          // markers: true,
          onLeave: (self) => {
            this.animateSVG2()
          },
          onEnterBack: () => {
            this.reverseanimateSVG2()
          },
        },
      })
      this.circleControl = this.$gsap.timeline({
        scrollTrigger: {
          trigger: '.strength',
          start: 'bottom bottom',
          end: '650% 10%',
          ease: 'none',
          // markers: true,
          onLeave: (self) => {
            this.animateSVG3()
          },
          onEnterBack: () => {
            this.reverseanimateSVG3()
          },
        },
      })

      // .to('.strength .vision', {
      //   scrollTrigger: {
      //     trigger: '.line-purple',
      //     toggleActions: 'restart pause resume pause',
      //     onLeave: (self) => {
      //       alert('hello')
      //     },
      //   },
      // })
      this.gsapTimeline.to('.caption p', {
        opacity: 0.2,
        ease: 'none',
      })

      this.$gsap.to('progress', {
        value: 100,
        ease: 'none',
        scrollTrigger: {
          scrub: 0.3,
          end: () => '+=' + document.querySelector('.v-container2').offsetWidth,
          onLeave: (self) => {
            self.kill()
            this.$router.push('/about')
          },
        },
      })
    },

    // circle SvG Animation
    animateSVG() {
      this.$gsap.fromTo(
        'body',
        {
          overflowY: 'hidden',
          duration: 0.4,
        },
        {
          overflowY: 'scroll',
          delay: 0.4,
        }
      )
      this.selectedMission = this.missions[0]
      this.$gsap.to('.strength img', {
        opacity: 0.1,
        duration: 0.4,
      })
      this.$gsap.to('.strength .vision', {
        opacity: 0.1,
        duration: 1,
      })

      this.$gsap.to('.strength svg', {
        rotation: '240deg',
        fill: 'rgba(0, 0, 0, 0.219)',
        duration: 1,
        zIndex: 5,
      })
      this.$gsap.to('.strength svg #conceive', {
        fill: '#000',
        ease: 'none',
      })
    },
    reverseanimateSVG() {
      this.selectedMission = ''
      this.$gsap.to('.strength img', {
        opacity: 1,
        duration: 1,
      })
      this.$gsap.to('.strength .vision', {
        opacity: 1,
        duration: 1,
      })

      this.$gsap.to('.strength svg', {
        rotation: '0deg',
        fill: 'rgba(0, 0, 0, 0.219)',
        duration: 1,
        zIndex: 0,
      })
      this.$gsap.to('.strength svg #conceive', {
        fill: 'rgba(0, 0, 0, 0.219)',
        ease: 'none',
      })
    },
    animateSVG2() {
      this.$gsap.fromTo(
        'body',
        {
          overflowY: 'hidden',
          duration: 1,
        },
        {
          overflowY: 'scroll',
          delay: 1,
        }
      )
      this.selectedMission = this.missions[1]
      this.$gsap.to('.strength svg', {
        fill: 'rgba(0, 0, 0, 0.089);',
        duration: 0.4,
      })
      this.$gsap.to('.strength svg', {
        rotation: '170deg',
        fill: 'rgba(0, 0, 0, 0.089);',
        duration: 1,
      })
      this.$gsap.to('.strength svg #conceive', {
        duration: 0.2,
        fill: 'rgba(0, 0, 0, 0.219)',
      })
      this.$gsap.to('.strength svg #create', {
        fill: '#000',
        ease: 'none',
      })
    },
    reverseanimateSVG2() {
      this.selectedMission = this.missions[0]
      this.$gsap.to('.strength svg', {
        rotation: '240deg',
        fill: 'rgba(0, 0, 0, 0.089);',
        duration: 1,
      })
      this.$gsap.to('.strength svg #conceive', {
        duration: 0.2,
        fill: '#000',
      })
      this.$gsap.to('.strength svg #create', {
        fill: 'rgba(0, 0, 0, 0.219)',
        ease: 'none',
      })
    },
    animateSVG3() {
      this.$gsap.fromTo(
        'body',
        {
          overflowY: 'hidden',
          duration: 0.4,
        },
        {
          overflowY: 'scroll',
          delay: 0.4,
        }
      )
      this.selectedMission = this.missions[2]
      this.$gsap.to('.strength svg', {
        rotation: '120deg',
        fill: 'rgba(0, 0, 0, 0.089);',
        duration: 1,
      })
      this.$gsap.to('.strength svg #create', {
        duration: 0.2,
        fill: 'rgba(0, 0, 0, 0.219)',
      })
      this.$gsap.to('.strength svg #connect', {
        fill: '#000',
        ease: 'none',
      })
    },
    reverseanimateSVG3() {
      this.selectedMission = this.missions[1]
      this.$gsap.to('.strength svg', {
        rotation: '170deg',
        fill: 'rgba(0, 0, 0, 0.089);',
        duration: 1,
      })
      this.$gsap.to('.strength svg #create', {
        duration: 0.2,
        fill: '#000',
      })
      this.$gsap.to('.strength svg #connect', {
        fill: 'rgba(0, 0, 0, 0.219)',
        ease: 'none',
      })
    },
    animateImg() {
      this.$gsap.to('.bg-img-wrapper img:first-child', {
        top: '-7vw',
        ease: 'back.out(1.7)',
        duration: 1.5,
      })

      this.$gsap.to('.bg-img-wrapper img:nth-child(2)', {
        right: '-12.5vw',
        ease: 'back.out(1.7)',
        duration: 1.5,
      })

      this.$gsap.to('.bg-img-wrapper img:nth-child(3)', {
        top: '24vw',
        ease: 'back.out(1.7)',
        duration: 1.5,
      })

      this.$gsap.to('.default-logo', { opacity: 0, duration: 0.5 })
      this.$gsap.to('.second-logo', { opacity: 1, duration: 0.5, delay: 0.5 })
    },
    reverseAnimateImg() {
      this.$gsap.to('.bg-img-wrapper img:first-child', {
        top: '12vw',
        ease: 'back.out(1.7)',
        duration: 1,
      })

      this.$gsap.to('.bg-img-wrapper img:nth-child(2)', {
        right: 0,
        ease: 'back.out(1.7)',
        duration: 1,
      })

      this.$gsap.to('.bg-img-wrapper img:nth-child(3)', {
        top: '15vw',
        ease: 'back.out(1.7)',
        duration: 1,
      })
      this.$gsap.to('.default-logo', { opacity: 1, duration: 0.5, delay: 0.5 })
      this.$gsap.to('.second-logo', { opacity: 0, duration: 0.5 })
    },
  },
  beforeDestroy() {
    if (window.outerWidth > 768) {
      this.$gsap.to('.second-logo', {
        opacity: 1,
      })
      this.imageSlide.kill()
      this.gsapTimeline.kill()
      this.circleControl.kill()
    }
  },
}
</script>

<style lang="scss" scoped>
.v-container2 {
  width: 400%;
  height: 100%;
  display: flex;
  flex-wrap: nowrap;
}

.panel {
  width: 100vw;
  height: 100vh;
  display: flex;
  font-weight: 600;
  font-size: 1.5em;
  z-index: 2;
  position: relative;
  box-sizing: border-box;
}

.home-page {
  .top-base {
    padding: 12rem 8rem 0;
  }
  .caption {
    position: relative;
    z-index: 5;
    h1 {
      line-height: 1.5;
      font-weight: 500;
      font-size: 3.2vw !important;
      font-family: $secondary-font;
      span {
        position: relative;
        font-family: $secondary-font;
        &::after {
          content: '';
          position: absolute;
          height: 4px;
          width: 100%;
          bottom: 8px;
          left: 0;
          background: $primary;
        }
      }
    }
    p {
      width: 70%;
      font-size: 1vw;
      font-weight: 500;
      font-family: $primary-font;
    }
    .download {
      color: $dark;
      font-size: 1.3vw;
      font-weight: 300;
      text-decoration: underline;
    }

    .link {
      color: $dark;
      font-size: 2vw;
      font-weight: 400;
      text-transform: uppercase;
      font-family: $secondary-font;
      // text-decoration: none;
    }
  }

  .bg-img {
    position: relative;
    img {
      width: 42vw;
      position: absolute;
      top: 9vw;
      right: 0;
      &:first-child {
        top: 12vw;
        z-index: 3;
        right: 5vw;
      }
      &:nth-child(2) {
        z-index: 2;
        right: 0;
      }
      &:nth-child(3) {
        top: 15vw;
        z-index: 1;
        right: 2vw;
      }
    }
  }

  // About us

  .about {
    padding: 4.5rem 9rem 0;
    h1 {
      font-size: 4.6vw;
      margin-left: 9vw;
      margin-top: 1.1vw;
      font-family: $secondary-font;
    }
    p {
      width: 32vw;
      font-size: 1.2vw;
      font-weight: 300;
      line-height: 2.3;
      margin-top: 4vw;
    }
    h3 {
      width: 47.6vw;
      font-size: 3.2vw;
      margin-top: 3.8vw;
      font-family: $secondary-font;
    }
    img {
      width: 20vw !important;
    }
  }

  .strength {
    padding: 4.5rem 9rem 0;
    .content {
      margin-top: 8vw;
    }
    h1 {
      font-size: 4.6vw;
      margin-left: 7vw;
      margin-top: 1.1vw;
      font-family: $secondary-font;
    }
    p {
      width: 20vw;
      font-size: 1.2vw;
      font-weight: 300;
      line-height: 1.9;
    }
    h3 {
      width: 47.6vw;
      font-size: 3.2vw;
      margin-top: 3.8vw;
      font-family: $secondary-font;
    }
    .circle {
      position: relative;
      img {
        left: 0;
        top: 0;
        width: 23vw !important;
        position: absolute;
      }
      svg {
        fill: rgba(0, 0, 0, 0.089);
        margin-left: 10vw;
        width: 23vw !important;
      }
    }
    .indicator {
      margin-top: 6vw;
      .progress {
        height: 0.5rem;
      }
    }
  }
}
</style>
